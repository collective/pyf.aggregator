TYPESENSE_HOST=localhost
TYPESENSE_PORT=8108
TYPESENSE_PROTOCOL=http
TYPESENSE_API_KEY=YOURTYPESENCE_API_KEY
TYPESENSE_TIMEOUT=120

# GitHub Configuration
GITHUB_TOKEN=YOUR_GH_TOKEN
# GitHub rate limit: 5000 req/hour authenticated (~1.4/sec), default 0.75s delay
GITHUB_REQUEST_DELAY=0.75

# PyPI Configuration
# PyPI JSON API has no formal rate limit (CDN cached), default 0.001s = ~1000 req/s
PYPI_RATE_LIMIT_DELAY=0.001
PYPI_MAX_RETRIES=3
PYPI_RETRY_BACKOFF=2.0
# Number of parallel threads for fetching (default 20, increase for faster fetching)
PYPI_MAX_WORKERS=20
# Batch size for memory-efficient fetching (default 500)
PYPI_BATCH_SIZE=500

# PyPI Stats API rate limiting (separate service)
PYPISTATS_RATE_LIMIT_DELAY=2.0
PYPISTATS_MAX_RETRIES=3
PYPISTATS_RETRY_BACKOFF=2.0

REDIS_HOST=redis://localhost:6379

PYPI_MAX_WORKERS=30    # parallel threads
PYPI_BATCH_SIZE=1000    # packages per batch (1000 ~ <500MB RAM)

# Celery Periodic Task Schedules (crontab format: minute hour day_of_month month day_of_week)
# Set to empty string to disable a task
CELERY_SCHEDULE_RSS_PROJECTS=*/1 * * * *
CELERY_SCHEDULE_RSS_RELEASES=*/1 * * * *
CELERY_SCHEDULE_WEEKLY_REFRESH=0 2 * * 0
CELERY_SCHEDULE_MONTHLY_FETCH=0 3 1 * *
CELERY_SCHEDULE_WEEKLY_DOWNLOADS=0 4 * * 0

# Celery worker pool and concurrency
CELERY_WORKER_POOL=gevent
CELERY_WORKER_CONCURRENCY=100
CELERY_WORKER_PREFETCH_MULTIPLIER=4
CELERY_TASK_SOFT_TIME_LIMIT=300
CELERY_TASK_TIME_LIMIT=600

# Default profile for pyfaggregator CLI (plone, django, flask)
#DEFAULT_PROFILE=plone
